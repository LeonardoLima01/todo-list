(()=>{"use strict";function e(e,t){return{tasks:{},name:e,id:t,dueDate:{},checked:{},priority:{}}}function t(e){let t=0;for(let n of d){if(n.id==e)return t;t++}}function n(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const d=[];!function(){const e=document.querySelector("#container"),t=document.createElement("div");t.id="header",e.appendChild(t);const n=document.createElement("div");n.id="headerText",n.textContent="Todo List",t.appendChild(n);const d=document.createElement("div");d.id="main",e.appendChild(d);const o=document.createElement("div");o.id="footer",e.appendChild(o);const a=document.createElement("div");a.id="sidebar",d.appendChild(a);const l=document.createElement("div");l.id="sidebarOptions",a.appendChild(l);const c=document.createElement("div");c.id="allTasksContainer",l.appendChild(c);const i=document.createElement("i");i.id="allTasksIcon",i.className="fa-solid fa-house",c.appendChild(i);const s=document.createElement("div");s.textContent="All Tasks",c.appendChild(s);const r=document.createElement("div");r.id="todayTasksContainer",l.appendChild(r);const p=document.createElement("i");p.id="todayTasksIcon",p.className="fa-solid fa-calendar-day",r.appendChild(p);const u=document.createElement("div");u.textContent="Today",r.appendChild(u);const m=document.createElement("div");m.id="weekTasksContainer",l.appendChild(m);const y=document.createElement("i");y.id="weekTasksIcon",y.className="fa-solid fa-calendar-week",m.appendChild(y);const v=document.createElement("div");v.textContent="Week",m.appendChild(v);const C=document.createElement("div");C.id="sidebarTitle",C.textContent="Projects",a.appendChild(C);const h=document.createElement("div");h.id="projectsPreview",a.appendChild(h);const E=document.createElement("button");E.id="addProjectButton",E.textContent="+ Add Project",a.appendChild(E);const k=document.createElement("form");k.id="addProjectForm",a.appendChild(k);const f=document.createElement("input");f.id="addProjectInput",k.appendChild(f);const b=document.createElement("div");b.id="projectButtons",k.appendChild(b);const w=document.createElement("button");w.id="addProjectInputButton",w.textContent="Add",b.appendChild(w);const L=document.createElement("button");L.id="cancelProjectInputButton",L.textContent="Cancel",L.type="button",b.appendChild(L);const x=document.createElement("div");x.id="content",d.appendChild(x);const g=document.createElement("div");g.id="projectDisplay",x.appendChild(g);const T=document.createElement("div");T.id="projectTitle",g.appendChild(T);const N=document.createElement("div");N.id="projectTasks",g.appendChild(N);const j=document.createElement("button");j.id="addTaskButton",j.textContent="+ Add Task",g.appendChild(j);const P=document.createElement("form");P.id="addTaskForm",g.appendChild(P);const S=document.createElement("input");S.id="addTaskInput",P.appendChild(S);const q=document.createElement("div");q.id="addTaskButtons",P.appendChild(q);const F=document.createElement("button");F.id="addTaskInputButton",F.textContent="Add",q.appendChild(F);const D=document.createElement("button");D.type="button",D.id="cancelTaskInputButton",D.textContent="Cancel",q.appendChild(D)}(),function(){const o=document.querySelector("#addProjectButton"),a=document.querySelector("#addProjectInput"),l=document.querySelector("#addProjectForm"),c=(document.querySelector("#addProjectInputButton"),document.querySelector("#cancelProjectInputButton")),i=document.querySelector("#projectsPreview"),s=document.querySelector("#projectTitle"),r=document.querySelector("#projectTasks"),p=document.querySelector("#addTaskButton"),u=document.querySelector("#addTaskForm"),m=document.querySelector("#content"),y=document.querySelector("#allTasksContainer"),v=document.querySelector("#todayTasksContainer"),C=document.querySelector("#weekTasksContainer");let h=0;c.addEventListener("click",(()=>{l.style.display="none",o.style.display="flex"})),o.addEventListener("click",(()=>{o.style.display="none",l.style.display="flex",a.value=""})),l.addEventListener("submit",(c=>{if(c.preventDefault(),""===a.value)return void alert("Project name can't be empty");l.style.display="none",o.style.display="flex",i.style.display="flex";const E=a.value,k=new e(E,h);d.push(k);const f=document.createElement("div"),b=document.createElement("div"),w=document.createElement("i");w.className="fa-solid fa-arrow-right",b.appendChild(w),f.className=h,h++,f.id="projectName",f.textContent=E,b.id="newProjectContainer",i.appendChild(b),b.appendChild(f);const L=document.createElement("i");L.className="fa-solid fa-xmark",L.id="projectClosingIcon",b.appendChild(L),L.addEventListener("click",(()=>{d.splice(t(f.className),1),b.remove(),m.style.display="none",i.firstChild||(i.style.display="none")})),f.addEventListener("click",(()=>{if(u.style.display="none",m.style.display="flex",s.style.display="flex",s.textContent=E,s.className=f.className,p.style.display="flex",Object.keys(d[t(f.className)].tasks).length>0){n(r);let e=0;for(let n of Object.values(d[t(f.className)].tasks)){const o=n,a=document.createElement("div");a.id="newTask",a.className=e,r.appendChild(a);const l=document.createElement("div");l.id="newTaskCheckboxContainer",a.appendChild(l);const c=document.createElement("input");c.type="checkbox",c.id="cb"+e,l.appendChild(c),c.addEventListener("click",(()=>{null==d[t(s.className)].checked[o]?d[t(s.className)].checked[o]="yes":"yes"==d[t(s.className)].checked[o]?d[t(s.className)].checked[o]="no":d[t(s.className)].checked[o]="yes"})),"yes"==d[t(s.className)].checked[o]&&(c.checked=!0);const i=document.createElement("label");i.id="newTaskName",i.htmlFor="cb"+e,i.textContent=o,l.appendChild(i),e++;const p=document.createElement("div");p.id="taskPriority",a.appendChild(p);const u=document.createElement("select");p.appendChild(u);const m=document.createElement("option");m.value="0",m.textContent="Priority",u.appendChild(m);const y=document.createElement("option");y.value="1",y.textContent="Low",u.appendChild(y);const v=document.createElement("option");v.value="2",v.textContent="Medium",u.appendChild(v);const C=document.createElement("option");C.value="3",C.textContent="High",u.appendChild(C),u.addEventListener("input",(e=>{"0"===e.target.value?a.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?a.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?a.style.borderLeft="0.6vw solid orange":a.style.borderLeft="0.6vw solid #F05E16",d[t(s.className)].priority[o]=e.target.value})),d[t(s.className)].priority[o]&&("0"===d[t(s.className)].priority[o]?(a.style.borderLeft="0.6vw solid transparent",u.value=0):"1"===d[t(s.className)].priority[o]?(a.style.borderLeft="0.6vw solid #f2ee00",u.value=1):"2"===d[t(s.className)].priority[o]?(a.style.borderLeft="0.6vw solid orange",u.value=2):(a.style.borderLeft="0.6vw solid #F05E16",u.value=3));const h=document.createElement("input");h.id="taskDueDate",h.type="date",a.appendChild(h),h.addEventListener("input",(()=>{d[t(s.className)].dueDate[o]=h.value})),d[t(s.className)].dueDate[o]&&(h.value=d[t(s.className)].dueDate[o]);const E=document.createElement("i");E.className="fa-solid fa-xmark",E.id="taskClosingIcon",a.appendChild(E),E.addEventListener("click",(()=>{delete d[t(s.className)].tasks[o],d[t(s.className)].priority[o]="0",a.remove()}))}}else n(r)})),y.addEventListener("click",(()=>{n(r),s.style.display="none",p.style.display="none";let e=0;for(let t in d)for(let n of Object.values(d[t].tasks)){const o=document.createElement("div");o.id="newTask",r.appendChild(o);const a=n,l=document.createElement("div");l.id="newTaskCheckboxContainer",o.appendChild(l);const c=document.createElement("input");c.type="checkbox",c.id="cb"+e,l.appendChild(c);const i=document.createElement("label");i.id="newTaskName",i.htmlFor="cb"+e,i.textContent=a,l.appendChild(i),c.addEventListener("click",(()=>{"yes"==d[t].checked[a]?d[t].checked[a]="no":d[t].checked[a]="yes"})),"yes"==d[t].checked[a]&&(c.checked=!0);const s=document.createElement("div");s.id="taskPriority",o.appendChild(s);const p=document.createElement("select");s.appendChild(p);const u=document.createElement("option");u.value="0",u.textContent="Priority",p.appendChild(u);const m=document.createElement("option");m.value="1",m.textContent="Low",p.appendChild(m);const y=document.createElement("option");y.value="2",y.textContent="Medium",p.appendChild(y);const v=document.createElement("option");v.value="3",v.textContent="High",p.appendChild(v),p.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[t].priority[a]=e.target.value})),d[t].priority[a]&&("0"===d[t].priority[a]?(o.style.borderLeft="0.6vw solid transparent",p.value=0):"1"===d[t].priority[a]?(o.style.borderLeft="0.6vw solid #f2ee00",p.value=1):"2"===d[t].priority[a]?(o.style.borderLeft="0.6vw solid orange",p.value=2):(o.style.borderLeft="0.6vw solid #F05E16",p.value=3)),e++}}));let x=new Date,g=String(x.getDate()).padStart(2,"0"),T=String(x.getMonth()+1).padStart(2,"0"),N=x.getFullYear();x=N+"-"+T+"-"+g;let j=0;v.addEventListener("click",(()=>{n(r),s.style.display="none",p.style.display="none";let e=0;for(let t in d)for(let n of Object.values(d[t].tasks))if(d[t].dueDate[n]==x){const o=document.createElement("div");o.id="newTask",r.appendChild(o);const a=n,l=document.createElement("div");l.id="newTaskCheckboxContainer",o.appendChild(l);const c=document.createElement("input");c.type="checkbox",c.id="cb"+e,l.appendChild(c);const i=document.createElement("label");i.id="newTaskName",i.htmlFor="cb"+e,i.textContent=a,l.appendChild(i),c.addEventListener("click",(()=>{"yes"==d[t].checked[a]?d[t].checked[a]="no":d[t].checked[a]="yes"})),"yes"==d[t].checked[a]&&(c.checked=!0);const s=document.createElement("div");s.id="taskPriority",o.appendChild(s);const p=document.createElement("select");s.appendChild(p);const u=document.createElement("option");u.value="0",u.textContent="Priority",p.appendChild(u);const m=document.createElement("option");m.value="1",m.textContent="Low",p.appendChild(m);const y=document.createElement("option");y.value="2",y.textContent="Medium",p.appendChild(y);const v=document.createElement("option");v.value="3",v.textContent="High",p.appendChild(v),p.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[t].priority[a]=e.target.value})),d[t].priority[a]&&("0"===d[t].priority[a]?(o.style.borderLeft="0.6vw solid transparent",p.value=0):"1"===d[t].priority[a]?(o.style.borderLeft="0.6vw solid #f2ee00",p.value=1):"2"===d[t].priority[a]?(o.style.borderLeft="0.6vw solid orange",p.value=2):(o.style.borderLeft="0.6vw solid #F05E16",p.value=3)),e++}})),j=0,C.addEventListener("click",(()=>{n(r),s.style.display="none",p.style.display="none";let e=0;for(let t in d)for(let n of Object.values(d[t].tasks))if(d[t].dueDate[n]==x){let o=d[t].dueDate[n].split("-")[0],a=d[t].dueDate[n].split("-")[1],l=d[t].dueDate[n].split("-")[2];if(o==N&&a==T&&(console.log("due Year "+o),console.log("due Month "+a),console.log("due Day "+l),console.log("dd: "+g),l>=g&&l<=+g+7)){console.log("APPROVE");const o=document.createElement("div");o.id="newTask",r.appendChild(o);const a=n,l=document.createElement("div");l.id="newTaskCheckboxContainer",o.appendChild(l);const c=document.createElement("input");c.type="checkbox",c.id="cb"+e,l.appendChild(c);const i=document.createElement("label");i.id="newTaskName",i.htmlFor="cb"+e,i.textContent=a,l.appendChild(i),c.addEventListener("click",(()=>{"yes"==d[t].checked[a]?d[t].checked[a]="no":d[t].checked[a]="yes"})),"yes"==d[t].checked[a]&&(c.checked=!0);const s=document.createElement("div");s.id="taskPriority",o.appendChild(s);const p=document.createElement("select");s.appendChild(p);const u=document.createElement("option");u.value="0",u.textContent="Priority",p.appendChild(u);const m=document.createElement("option");m.value="1",m.textContent="Low",p.appendChild(m);const y=document.createElement("option");y.value="2",y.textContent="Medium",p.appendChild(y);const v=document.createElement("option");v.value="3",v.textContent="High",p.appendChild(v),p.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[t].priority[a]=e.target.value})),d[t].priority[a]&&("0"===d[t].priority[a]?(o.style.borderLeft="0.6vw solid transparent",p.value=0):"1"===d[t].priority[a]?(o.style.borderLeft="0.6vw solid #f2ee00",p.value=1):"2"===d[t].priority[a]?(o.style.borderLeft="0.6vw solid orange",p.value=2):(o.style.borderLeft="0.6vw solid #F05E16",p.value=3)),e++}}}))}))}(),function(){document.querySelector("#addProjectButton"),document.querySelector("#addProjectInput"),document.querySelector("#addProjectForm"),document.querySelector("#addProjectInputButton"),document.querySelector("#projectsPreview");const e=document.querySelector("#projectTitle"),n=document.querySelector("#projectTasks"),o=document.querySelector("#addTaskButton"),a=document.querySelector("#addTaskForm"),l=document.querySelector("#addTaskInput"),c=document.querySelector("#cancelTaskInputButton");o.addEventListener("click",(()=>{o.style.display="none",a.style.display="flex"})),c.addEventListener("click",(()=>{a.style.display="none",o.style.display="flex",l.value=""}));let i=0;a.addEventListener("submit",(c=>{if(c.preventDefault(),""==l.value)return void alert("Task name can't be empty");a.style.display="none",o.style.display="flex",n.style.display="flex";const s=l.value;if(1==function(e){for(let t of d)for(let n of Object.values(t.tasks))if(n==e)return 1}(s))return alert("Such task already exists!"),void(l.value="");l.value="";const r=document.createElement("div");r.id="newTask",n.appendChild(r);const p=document.createElement("div");p.id="newTaskCheckboxContainer",r.appendChild(p);const u=document.createElement("input");u.type="checkbox",u.id="cb"+i,p.appendChild(u),u.addEventListener("click",(()=>{"yes"==d[t(e.className)].checked[s]?d[t(e.className)].checked[s]="no":d[t(e.className)].checked[s]="yes"}));const m=document.createElement("label");m.id="newTaskName",m.htmlFor="cb"+i,m.textContent=s,p.appendChild(m),i++;const y=t(e.className);d[y].tasks[s]=s;const v=document.createElement("div");v.id="taskPriority",r.appendChild(v);const C=document.createElement("select");v.appendChild(C),C.addEventListener("input",(n=>{"0"===n.target.value?r.style.borderLeft="0.6vw solid transparent":"1"===n.target.value?r.style.borderLeft="0.6vw solid #f2ee00":"2"===n.target.value?r.style.borderLeft="0.6vw solid orange":r.style.borderLeft="0.6vw solid #F05E16",d[t(e.className)].priority[s]=n.target.value})),d[t(e.className)].priority[s]&&("0"===d[t(e.className)].priority[s]?(r.style.borderLeft="0.6vw solid transparent",C.value=0):"1"===d[t(e.className)].priority[s]?(r.style.borderLeft="0.6vw solid #f2ee00",C.value=1):"2"===d[t(e.className)].priority[s]?(r.style.borderLeft="0.6vw solid orange",C.value=2):(r.style.borderLeft="0.6vw solid #F05E16",C.value=3));const h=document.createElement("option");h.value="0",h.textContent="Priority",C.appendChild(h);const E=document.createElement("option");E.value="1",E.textContent="Low",C.appendChild(E);const k=document.createElement("option");k.value="2",k.textContent="Medium",C.appendChild(k);const f=document.createElement("option");f.value="3",f.textContent="High",C.appendChild(f);const b=document.createElement("input");b.id="taskDueDate",b.type="date",r.appendChild(b),b.addEventListener("input",(()=>{d[e.className].dueDate[s]=b.value}));const w=document.createElement("i");w.className="fa-solid fa-xmark",w.id="taskClosingIcon",r.appendChild(w),w.addEventListener("click",(()=>{delete d[y].tasks[s],d[t(e.className)].priority[s]="0",r.remove()}))}))}()})();