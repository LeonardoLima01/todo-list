(()=>{"use strict";function e(e,t){return{tasks:{},name:e,id:t,dueDate:{},checked:{},priority:{}}}function t(e){let t=0;for(let n of d){if(n.id==e)return t;t++}}function n(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const d=[];!function(){const e=document.querySelector("#container"),t=document.createElement("div");t.id="header",e.appendChild(t);const n=document.createElement("div");n.id="headerText",n.textContent="Todo List",t.appendChild(n);const d=document.createElement("div");d.id="main",e.appendChild(d);const a=document.createElement("div");a.id="footer",e.appendChild(a);const o=document.createElement("div");o.id="sidebar",d.appendChild(o);const l=document.createElement("div");l.id="sidebarOptions",o.appendChild(l);const c=document.createElement("div");c.id="allTasksContainer",l.appendChild(c);const s=document.createElement("i");s.id="allTasksIcon",s.className="fa-solid fa-house",c.appendChild(s);const i=document.createElement("div");i.textContent="All Tasks",c.appendChild(i);const r=document.createElement("div");r.id="todayTasksContainer",l.appendChild(r);const p=document.createElement("i");p.id="todayTasksIcon",p.className="fa-solid fa-calendar-day",r.appendChild(p);const u=document.createElement("div");u.textContent="Today",r.appendChild(u);const m=document.createElement("div");m.id="weekTasksContainer",l.appendChild(m);const v=document.createElement("i");v.id="weekTasksIcon",v.className="fa-solid fa-calendar-week",m.appendChild(v);const y=document.createElement("div");y.textContent="Week",m.appendChild(y);const C=document.createElement("div");C.id="sidebarTitle",C.textContent="Projects",o.appendChild(C);const h=document.createElement("div");h.id="projectsPreview",o.appendChild(h);const k=document.createElement("button");k.id="addProjectButton",k.textContent="+ Add Project",o.appendChild(k);const E=document.createElement("form");E.id="addProjectForm",o.appendChild(E);const f=document.createElement("input");f.id="addProjectInput",E.appendChild(f);const b=document.createElement("div");b.id="projectButtons",E.appendChild(b);const L=document.createElement("button");L.id="addProjectInputButton",L.textContent="Add",b.appendChild(L);const w=document.createElement("button");w.id="cancelProjectInputButton",w.textContent="Cancel",w.type="button",b.appendChild(w);const x=document.createElement("div");x.id="content",d.appendChild(x);const N=document.createElement("div");N.id="projectDisplay",x.appendChild(N);const g=document.createElement("div");g.id="projectTitle",N.appendChild(g);const T=document.createElement("div");T.id="projectTasks",N.appendChild(T);const j=document.createElement("button");j.id="addTaskButton",j.textContent="+ Add Task",N.appendChild(j);const P=document.createElement("form");P.id="addTaskForm",N.appendChild(P);const S=document.createElement("input");S.id="addTaskInput",P.appendChild(S);const D=document.createElement("div");D.id="addTaskButtons",P.appendChild(D);const q=document.createElement("button");q.id="addTaskInputButton",q.textContent="Add",D.appendChild(q);const F=document.createElement("button");F.type="button",F.id="cancelTaskInputButton",F.textContent="Cancel",D.appendChild(F)}(),function(){const a=document.querySelector("#addProjectButton"),o=document.querySelector("#addProjectInput"),l=document.querySelector("#addProjectForm"),c=(document.querySelector("#addProjectInputButton"),document.querySelector("#cancelProjectInputButton")),s=document.querySelector("#projectsPreview"),i=document.querySelector("#projectTitle"),r=document.querySelector("#projectTasks"),p=document.querySelector("#addTaskButton"),u=document.querySelector("#addTaskForm"),m=document.querySelector("#content"),v=document.querySelector("#allTasksContainer"),y=document.querySelector("#todayTasksContainer"),C=document.querySelector("#weekTasksContainer");let h=0;c.addEventListener("click",(()=>{l.style.display="none",a.style.display="flex"})),a.addEventListener("click",(()=>{a.style.display="none",l.style.display="flex",o.value=""})),l.addEventListener("submit",(c=>{if(c.preventDefault(),""===o.value)return void alert("Project name can't be empty");l.style.display="none",a.style.display="flex",s.style.display="flex";const k=o.value,E=new e(k,h);d.push(E);const f=document.createElement("div"),b=document.createElement("div"),L=document.createElement("i");L.className="fa-solid fa-arrow-right",b.appendChild(L),f.className=h,h++,f.id="projectName",f.textContent=k,b.id="newProjectContainer",s.appendChild(b),b.appendChild(f);const w=document.createElement("i");w.className="fa-solid fa-xmark",w.id="projectClosingIcon",b.appendChild(w),w.addEventListener("click",(()=>{d.splice(t(f.className),1),b.remove(),m.style.display="none",s.firstChild||(s.style.display="none")})),f.addEventListener("click",(()=>{if(u.style.display="none",m.style.display="flex",i.style.display="flex",i.textContent=k,i.className=f.className,p.style.display="flex",Object.keys(d[t(f.className)].tasks).length>0){n(r);let e=0;for(let n of Object.values(d[t(f.className)].tasks)){const a=n,o=document.createElement("div");o.id="newTask",o.className=e,r.appendChild(o);const l=document.createElement("div");l.id="newTaskCheckboxContainer",o.appendChild(l);const c=document.createElement("input");c.type="checkbox",c.id="cb"+e,l.appendChild(c),c.addEventListener("click",(()=>{null==d[t(i.className)].checked[a]?d[t(i.className)].checked[a]="yes":"yes"==d[t(i.className)].checked[a]?d[t(i.className)].checked[a]="no":d[t(i.className)].checked[a]="yes"})),"yes"==d[t(i.className)].checked[a]&&(c.checked=!0);const s=document.createElement("label");s.id="newTaskName",s.htmlFor="cb"+e,s.textContent=a,l.appendChild(s),e++;const p=document.createElement("div");p.id="taskPriority",o.appendChild(p);const u=document.createElement("select");p.appendChild(u);const m=document.createElement("option");m.value="0",m.textContent="Priority",u.appendChild(m);const v=document.createElement("option");v.value="1",v.textContent="Low",u.appendChild(v);const y=document.createElement("option");y.value="2",y.textContent="Medium",u.appendChild(y);const C=document.createElement("option");C.value="3",C.textContent="High",u.appendChild(C),u.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[t(i.className)].priority[a]=e.target.value})),d[t(i.className)].priority[a]&&("0"===d[t(i.className)].priority[a]?(o.style.borderLeft="0.6vw solid transparent",u.value=0):"1"===d[t(i.className)].priority[a]?(o.style.borderLeft="0.6vw solid #f2ee00",u.value=1):"2"===d[t(i.className)].priority[a]?(o.style.borderLeft="0.6vw solid orange",u.value=2):(o.style.borderLeft="0.6vw solid #F05E16",u.value=3));const h=document.createElement("input");h.id="taskDueDate",h.type="date",o.appendChild(h),h.addEventListener("input",(()=>{d[t(i.className)].dueDate[a]=h.value})),d[t(i.className)].dueDate[a]&&(h.value=d[t(i.className)].dueDate[a]);const k=document.createElement("i");k.className="fa-solid fa-xmark",k.id="taskClosingIcon",o.appendChild(k),k.addEventListener("click",(()=>{delete d[t(i.className)].tasks[a],d[t(i.className)].priority[a]="0",d[t(i.className)].dueDate[a]="",d[t(i.className)].checked[a]="",o.remove()}))}}else n(r)})),v.addEventListener("click",(()=>{n(r),i.textContent="All Tasks",p.style.display="none";let e=0;for(let n in d)for(let a of Object.values(d[n].tasks)){const o=document.createElement("div");o.id="newTask",r.appendChild(o);const l=a,c=document.createElement("div");c.id="newTaskCheckboxContainer",o.appendChild(c);const s=document.createElement("input");s.type="checkbox",s.id="cb"+e,c.appendChild(s);const p=document.createElement("label");p.id="newTaskName",p.htmlFor="cb"+e,p.textContent=l,c.appendChild(p),s.addEventListener("click",(()=>{"yes"==d[n].checked[l]?d[n].checked[l]="no":d[n].checked[l]="yes"})),"yes"==d[n].checked[l]&&(s.checked=!0);const u=document.createElement("div");u.id="taskPriority",o.appendChild(u);const m=document.createElement("select");u.appendChild(m);const v=document.createElement("option");v.value="0",v.textContent="Priority",m.appendChild(v);const y=document.createElement("option");y.value="1",y.textContent="Low",m.appendChild(y);const C=document.createElement("option");C.value="2",C.textContent="Medium",m.appendChild(C);const h=document.createElement("option");h.value="3",h.textContent="High",m.appendChild(h),m.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[n].priority[l]=e.target.value})),d[n].priority[l]&&("0"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid transparent",m.value=0):"1"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid #f2ee00",m.value=1):"2"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid orange",m.value=2):(o.style.borderLeft="0.6vw solid #F05E16",m.value=3));const k=document.createElement("i");k.className="fa-solid fa-xmark",k.id="taskClosingIcon",o.appendChild(k),k.addEventListener("click",(()=>{delete d[t(i.className)].tasks[l],d[t(i.className)].priority[l]="0",d[t(i.className)].dueDate[l]="",d[t(i.className)].checked[l]="",o.remove()})),e++}}));let x=new Date,N=String(x.getDate()).padStart(2,"0"),g=String(x.getMonth()+1).padStart(2,"0"),T=x.getFullYear();x=T+"-"+g+"-"+N;let j=0;y.addEventListener("click",(()=>{n(r),i.textContent="Today ",p.style.display="none";let e=0;for(let n in d)for(let a of Object.values(d[n].tasks))if(d[n].dueDate[a]==x){const o=document.createElement("div");o.id="newTask",r.appendChild(o);const l=a,c=document.createElement("div");c.id="newTaskCheckboxContainer",o.appendChild(c);const s=document.createElement("input");s.type="checkbox",s.id="cb"+e,c.appendChild(s);const p=document.createElement("label");p.id="newTaskName",p.htmlFor="cb"+e,p.textContent=l,c.appendChild(p),s.addEventListener("click",(()=>{"yes"==d[n].checked[l]?d[n].checked[l]="no":d[n].checked[l]="yes"})),"yes"==d[n].checked[l]&&(s.checked=!0);const u=document.createElement("div");u.id="taskPriority",o.appendChild(u);const m=document.createElement("select");u.appendChild(m);const v=document.createElement("option");v.value="0",v.textContent="Priority",m.appendChild(v);const y=document.createElement("option");y.value="1",y.textContent="Low",m.appendChild(y);const C=document.createElement("option");C.value="2",C.textContent="Medium",m.appendChild(C);const h=document.createElement("option");h.value="3",h.textContent="High",m.appendChild(h),m.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[n].priority[l]=e.target.value})),d[n].priority[l]&&("0"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid transparent",m.value=0):"1"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid #f2ee00",m.value=1):"2"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid orange",m.value=2):(o.style.borderLeft="0.6vw solid #F05E16",m.value=3));const k=document.createElement("i");k.className="fa-solid fa-xmark",k.id="taskClosingIcon",o.appendChild(k),k.addEventListener("click",(()=>{delete d[t(i.className)].tasks[l],d[t(i.className)].priority[l]="0",d[t(i.className)].dueDate[l]="",d[t(i.className)].checked[l]="",o.remove()})),e++}})),j=0,C.addEventListener("click",(()=>{console.log("sas"),n(r),i.textContent="Week",p.style.display="none";let e=0;for(let n in d)for(let a of Object.values(d[n].tasks)){let o=d[n].dueDate[a].split("-")[0],l=d[n].dueDate[a].split("-")[1],c=d[n].dueDate[a].split("-")[2];if(console.log("sas"),console.log(d),console.log("dueDateYear: ",o),console.log("dueDateMonth: ",l),console.log("dueDateDay: ",c),console.log("yyyy: ",T),console.log("mm: ",g),console.log("dd: ",N),o==T&&l==g&&c>=N&&c<=+N+7){const o=document.createElement("div");o.id="newTask",r.appendChild(o);const l=a,c=document.createElement("div");c.id="newTaskCheckboxContainer",o.appendChild(c);const s=document.createElement("input");s.type="checkbox",s.id="cb"+e,c.appendChild(s);const p=document.createElement("label");p.id="newTaskName",p.htmlFor="cb"+e,p.textContent=l,c.appendChild(p),s.addEventListener("click",(()=>{"yes"==d[n].checked[l]?d[n].checked[l]="no":d[n].checked[l]="yes"})),"yes"==d[n].checked[l]&&(s.checked=!0);const u=document.createElement("div");u.id="taskPriority",o.appendChild(u);const m=document.createElement("select");u.appendChild(m);const v=document.createElement("option");v.value="0",v.textContent="Priority",m.appendChild(v);const y=document.createElement("option");y.value="1",y.textContent="Low",m.appendChild(y);const C=document.createElement("option");C.value="2",C.textContent="Medium",m.appendChild(C);const h=document.createElement("option");h.value="3",h.textContent="High",m.appendChild(h),m.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[n].priority[l]=e.target.value})),d[n].priority[l]&&("0"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid transparent",m.value=0):"1"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid #f2ee00",m.value=1):"2"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid orange",m.value=2):(o.style.borderLeft="0.6vw solid #F05E16",m.value=3));const k=document.createElement("i");k.className="fa-solid fa-xmark",k.id="taskClosingIcon",o.appendChild(k),k.addEventListener("click",(()=>{delete d[t(i.className)].tasks[l],d[t(i.className)].priority[l]="0",d[t(i.className)].dueDate[l]="",d[t(i.className)].checked[l]="",o.remove()})),e++}}}))}))}(),function(){document.querySelector("#addProjectButton"),document.querySelector("#addProjectInput"),document.querySelector("#addProjectForm"),document.querySelector("#addProjectInputButton"),document.querySelector("#projectsPreview");const e=document.querySelector("#projectTitle"),n=document.querySelector("#projectTasks"),a=document.querySelector("#addTaskButton"),o=document.querySelector("#addTaskForm"),l=document.querySelector("#addTaskInput"),c=document.querySelector("#cancelTaskInputButton");a.addEventListener("click",(()=>{a.style.display="none",o.style.display="flex"})),c.addEventListener("click",(()=>{o.style.display="none",a.style.display="flex",l.value=""}));let s=0;o.addEventListener("submit",(c=>{if(c.preventDefault(),""==l.value)return void alert("Task name can't be empty");o.style.display="none",a.style.display="flex",n.style.display="flex";const i=l.value;if(1==function(e){for(let t of d)for(let n of Object.values(t.tasks))if(n==e)return 1}(i))return alert("Such task already exists!"),void(l.value="");l.value="";const r=document.createElement("div");r.id="newTask",n.appendChild(r);const p=document.createElement("div");p.id="newTaskCheckboxContainer",r.appendChild(p);const u=document.createElement("input");u.type="checkbox",u.id="cb"+s,p.appendChild(u),u.addEventListener("click",(()=>{"yes"==d[t(e.className)].checked[i]?d[t(e.className)].checked[i]="no":d[t(e.className)].checked[i]="yes"}));const m=document.createElement("label");m.id="newTaskName",m.htmlFor="cb"+s,m.textContent=i,p.appendChild(m),s++;const v=t(e.className);d[v].tasks[i]=i;const y=document.createElement("div");y.id="taskPriority",r.appendChild(y);const C=document.createElement("select");y.appendChild(C),C.addEventListener("input",(n=>{"0"===n.target.value?r.style.borderLeft="0.6vw solid transparent":"1"===n.target.value?r.style.borderLeft="0.6vw solid #f2ee00":"2"===n.target.value?r.style.borderLeft="0.6vw solid orange":r.style.borderLeft="0.6vw solid #F05E16",d[t(e.className)].priority[i]=n.target.value})),d[t(e.className)].priority[i]&&("0"===d[t(e.className)].priority[i]?(r.style.borderLeft="0.6vw solid transparent",C.value=0):"1"===d[t(e.className)].priority[i]?(r.style.borderLeft="0.6vw solid #f2ee00",C.value=1):"2"===d[t(e.className)].priority[i]?(r.style.borderLeft="0.6vw solid orange",C.value=2):(r.style.borderLeft="0.6vw solid #F05E16",C.value=3));const h=document.createElement("option");h.value="0",h.textContent="Priority",C.appendChild(h);const k=document.createElement("option");k.value="1",k.textContent="Low",C.appendChild(k);const E=document.createElement("option");E.value="2",E.textContent="Medium",C.appendChild(E);const f=document.createElement("option");f.value="3",f.textContent="High",C.appendChild(f);const b=document.createElement("input");b.id="taskDueDate",b.type="date",r.appendChild(b),b.addEventListener("input",(()=>{d[e.className].dueDate[i]=b.value}));const L=document.createElement("i");L.className="fa-solid fa-xmark",L.id="taskClosingIcon",r.appendChild(L),L.addEventListener("click",(()=>{delete d[v].tasks[i],d[t(e.className)].priority[i]="0",d[t(e.className)].dueDate[i]="",d[t(e.className)].checked[i]="",r.remove()}))}))}()})();