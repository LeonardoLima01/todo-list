(()=>{"use strict";function e(e,t){return{tasks:{},name:e,id:t,dueDate:{},checked:{},priority:{}}}function t(e){let t=0;for(let n of d){if(n.id==e)return t;t++}}function n(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const d=[];!function(){const e=document.querySelector("#container"),t=document.createElement("div");t.id="header",e.appendChild(t);const n=document.createElement("div");n.id="headerText",n.textContent="Todo List",t.appendChild(n);const d=document.createElement("div");d.id="main",e.appendChild(d);const a=document.createElement("div");a.id="footer",e.appendChild(a);const o=document.createElement("div");o.id="sidebar",d.appendChild(o);const l=document.createElement("div");l.id="sidebarOptions",o.appendChild(l);const c=document.createElement("div");c.id="allTasksContainer",l.appendChild(c);const s=document.createElement("i");s.id="allTasksIcon",s.className="fa-solid fa-house",c.appendChild(s);const i=document.createElement("div");i.textContent="All Tasks",c.appendChild(i);const r=document.createElement("div");r.id="todayTasksContainer",l.appendChild(r);const p=document.createElement("i");p.id="todayTasksIcon",p.className="fa-solid fa-calendar-day",r.appendChild(p);const m=document.createElement("div");m.textContent="Today",r.appendChild(m);const u=document.createElement("div");u.id="weekTasksContainer",l.appendChild(u);const v=document.createElement("i");v.id="weekTasksIcon",v.className="fa-solid fa-calendar-week",u.appendChild(v);const y=document.createElement("div");y.textContent="Week",u.appendChild(y);const C=document.createElement("div");C.id="sidebarTitle",C.textContent="Projects",o.appendChild(C);const h=document.createElement("div");h.id="projectsPreview",o.appendChild(h);const k=document.createElement("button");k.id="addProjectButton",k.textContent="+ Add Project",o.appendChild(k);const E=document.createElement("form");E.id="addProjectForm",o.appendChild(E);const f=document.createElement("input");f.id="addProjectInput",E.appendChild(f);const b=document.createElement("div");b.id="projectButtons",E.appendChild(b);const L=document.createElement("button");L.id="addProjectInputButton",L.textContent="Add",b.appendChild(L);const x=document.createElement("button");x.id="cancelProjectInputButton",x.textContent="Cancel",x.type="button",b.appendChild(x);const w=document.createElement("div");w.id="content",d.appendChild(w);const N=document.createElement("div");N.id="projectDisplay",w.appendChild(N);const T=document.createElement("div");T.id="projectTitle",N.appendChild(T);const g=document.createElement("div");g.id="projectTasks",N.appendChild(g);const j=document.createElement("button");j.id="addTaskButton",j.textContent="+ Add Task",N.appendChild(j);const S=document.createElement("form");S.id="addTaskForm",N.appendChild(S);const P=document.createElement("form");P.id="editTaskForm",N.appendChild(P);const D=document.createElement("input");D.id="addTaskInput",S.appendChild(D);const F=document.createElement("div");F.id="addTaskButtons",S.appendChild(F);const q=document.createElement("button");q.id="addTaskInputButton",q.textContent="Add",F.appendChild(q);const I=document.createElement("button");I.type="button",I.id="cancelTaskInputButton",I.textContent="Cancel",F.appendChild(I)}(),function(){const a=document.querySelector("#addProjectButton"),o=document.querySelector("#addProjectInput"),l=document.querySelector("#addProjectForm"),c=document.querySelector("#cancelProjectInputButton"),s=document.querySelector("#projectsPreview"),i=document.querySelector("#projectTitle"),r=document.querySelector("#projectTasks"),p=document.querySelector("#addTaskButton"),m=document.querySelector("#addTaskForm"),u=document.querySelector("#content"),v=document.querySelector("#allTasksContainer"),y=document.querySelector("#todayTasksContainer"),C=document.querySelector("#weekTasksContainer");let h=0;c.addEventListener("click",(()=>{l.style.display="none",a.style.display="flex"})),a.addEventListener("click",(()=>{a.style.display="none",l.style.display="flex",o.value=""})),l.addEventListener("submit",(c=>{if(c.preventDefault(),""===o.value)return void alert("Project name can't be empty");l.style.display="none",a.style.display="flex",s.style.display="flex";const k=o.value,E=new e(k,h);d.push(E);const f=document.createElement("div"),b=document.createElement("div"),L=document.createElement("i");L.className="fa-solid fa-arrow-right",b.appendChild(L),f.className=h,h++,f.id="projectName",f.textContent=k,b.id="newProjectContainer",s.appendChild(b),b.appendChild(f);const x=document.createElement("i");x.className="fa-solid fa-xmark",x.id="projectClosingIcon",b.appendChild(x),x.addEventListener("click",(()=>{d.splice(t(f.className),1),b.remove(),u.style.display="none",s.firstChild||(s.style.display="none")})),f.addEventListener("click",(()=>{if(m.style.display="none",u.style.display="flex",i.style.display="flex",i.textContent=k,i.className=f.className,p.style.display="flex",Object.keys(d[t(f.className)].tasks).length>0){n(r);let e=0;for(let n of Object.values(d[t(f.className)].tasks)){const a=n,o=document.createElement("div");o.id="newTask",o.className=e,r.appendChild(o);const l=document.createElement("div");l.id="newTaskCheckboxContainer",o.appendChild(l);const c=document.createElement("input");c.type="checkbox",c.id="cb"+e,l.appendChild(c),c.addEventListener("click",(()=>{null==d[t(i.className)].checked[a]?d[t(i.className)].checked[a]="yes":"yes"==d[t(i.className)].checked[a]?d[t(i.className)].checked[a]="no":d[t(i.className)].checked[a]="yes"})),"yes"==d[t(i.className)].checked[a]&&(c.checked=!0);const s=document.createElement("label");s.id="newTaskName",s.htmlFor="cb"+e,s.textContent=a,l.appendChild(s),e++;const p=document.createElement("div");p.id="editTaskIcon",p.className="fa-solid fa-pen-to-square",o.appendChild(p);const m=document.querySelector("#editTaskForm");p.addEventListener("click",(()=>{m.style.display=flex}));const u=document.createElement("div");u.id="taskPriority",o.appendChild(u);const v=document.createElement("select");u.appendChild(v);const y=document.createElement("option");y.value="0",y.textContent="Priority",v.appendChild(y);const C=document.createElement("option");C.value="1",C.textContent="Low",v.appendChild(C);const h=document.createElement("option");h.value="2",h.textContent="Medium",v.appendChild(h);const k=document.createElement("option");k.value="3",k.textContent="High",v.appendChild(k),v.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[t(i.className)].priority[a]=e.target.value})),d[t(i.className)].priority[a]&&("0"===d[t(i.className)].priority[a]?(o.style.borderLeft="0.6vw solid transparent",v.value=0):"1"===d[t(i.className)].priority[a]?(o.style.borderLeft="0.6vw solid #f2ee00",v.value=1):"2"===d[t(i.className)].priority[a]?(o.style.borderLeft="0.6vw solid orange",v.value=2):(o.style.borderLeft="0.6vw solid #F05E16",v.value=3));const E=document.createElement("input");E.id="taskDueDate",E.type="date",o.appendChild(E),E.addEventListener("input",(()=>{d[t(i.className)].dueDate[a]=E.value})),d[t(i.className)].dueDate[a]&&(E.value=d[t(i.className)].dueDate[a]);const f=document.createElement("i");f.className="fa-solid fa-xmark",f.id="taskClosingIcon",o.appendChild(f),f.addEventListener("click",(()=>{delete d[t(i.className)].tasks[a],d[t(i.className)].priority[a]="0",d[t(i.className)].dueDate[a]="",d[t(i.className)].checked[a]="",o.remove()}))}}else n(r)})),v.addEventListener("click",(()=>{n(r),i.textContent="All Tasks",p.style.display="none";let e=0;for(let n in d)for(let a of Object.values(d[n].tasks)){const o=document.createElement("div");o.id="newTask",r.appendChild(o);const l=a,c=document.createElement("div");c.id="newTaskCheckboxContainer",o.appendChild(c);const s=document.createElement("input");s.type="checkbox",s.id="cb"+e,c.appendChild(s);const p=document.createElement("label");p.id="newTaskName",p.htmlFor="cb"+e,p.textContent=l,c.appendChild(p),s.addEventListener("click",(()=>{"yes"==d[n].checked[l]?d[n].checked[l]="no":d[n].checked[l]="yes"})),"yes"==d[n].checked[l]&&(s.checked=!0);const m=document.createElement("div");m.id="taskPriority",o.appendChild(m);const u=document.createElement("select");m.appendChild(u);const v=document.createElement("option");v.value="0",v.textContent="Priority",u.appendChild(v);const y=document.createElement("option");y.value="1",y.textContent="Low",u.appendChild(y);const C=document.createElement("option");C.value="2",C.textContent="Medium",u.appendChild(C);const h=document.createElement("option");h.value="3",h.textContent="High",u.appendChild(h),u.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[n].priority[l]=e.target.value})),d[n].priority[l]&&("0"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid transparent",u.value=0):"1"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid #f2ee00",u.value=1):"2"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid orange",u.value=2):(o.style.borderLeft="0.6vw solid #F05E16",u.value=3));const k=document.createElement("i");k.className="fa-solid fa-xmark",k.id="taskClosingIcon",o.appendChild(k),k.addEventListener("click",(()=>{delete d[t(i.className)].tasks[l],d[t(i.className)].priority[l]="0",d[t(i.className)].dueDate[l]="",d[t(i.className)].checked[l]="",o.remove()})),e++}}));let w=new Date,N=String(w.getDate()).padStart(2,"0"),T=String(w.getMonth()+1).padStart(2,"0"),g=w.getFullYear();w=g+"-"+T+"-"+N;let j=0;y.addEventListener("click",(()=>{n(r),i.textContent="Today ",p.style.display="none";let e=0;for(let n in d)for(let a of Object.values(d[n].tasks))if(d[n].dueDate[a]==w){const o=document.createElement("div");o.id="newTask",r.appendChild(o);const l=a,c=document.createElement("div");c.id="newTaskCheckboxContainer",o.appendChild(c);const s=document.createElement("input");s.type="checkbox",s.id="cb"+e,c.appendChild(s);const p=document.createElement("label");p.id="newTaskName",p.htmlFor="cb"+e,p.textContent=l,c.appendChild(p),s.addEventListener("click",(()=>{"yes"==d[n].checked[l]?d[n].checked[l]="no":d[n].checked[l]="yes"})),"yes"==d[n].checked[l]&&(s.checked=!0);const m=document.createElement("div");m.id="taskPriority",o.appendChild(m);const u=document.createElement("select");m.appendChild(u);const v=document.createElement("option");v.value="0",v.textContent="Priority",u.appendChild(v);const y=document.createElement("option");y.value="1",y.textContent="Low",u.appendChild(y);const C=document.createElement("option");C.value="2",C.textContent="Medium",u.appendChild(C);const h=document.createElement("option");h.value="3",h.textContent="High",u.appendChild(h),u.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[n].priority[l]=e.target.value})),d[n].priority[l]&&("0"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid transparent",u.value=0):"1"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid #f2ee00",u.value=1):"2"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid orange",u.value=2):(o.style.borderLeft="0.6vw solid #F05E16",u.value=3));const k=document.createElement("i");k.className="fa-solid fa-xmark",k.id="taskClosingIcon",o.appendChild(k),k.addEventListener("click",(()=>{delete d[t(i.className)].tasks[l],d[t(i.className)].priority[l]="0",d[t(i.className)].dueDate[l]="",d[t(i.className)].checked[l]="",o.remove()})),e++}})),j=0,C.addEventListener("click",(()=>{n(r),i.textContent="Week",p.style.display="none";let e=0;for(let n in d)for(let a of Object.values(d[n].tasks)){let o=d[n].dueDate[a].split("-")[0],l=d[n].dueDate[a].split("-")[1],c=d[n].dueDate[a].split("-")[2];if(o==g&&l==T&&c>=N&&c<=+N+7){const o=document.createElement("div");o.id="newTask",r.appendChild(o);const l=a,c=document.createElement("div");c.id="newTaskCheckboxContainer",o.appendChild(c);const s=document.createElement("input");s.type="checkbox",s.id="cb"+e,c.appendChild(s);const p=document.createElement("label");p.id="newTaskName",p.htmlFor="cb"+e,p.textContent=l,c.appendChild(p),s.addEventListener("click",(()=>{"yes"==d[n].checked[l]?d[n].checked[l]="no":d[n].checked[l]="yes"})),"yes"==d[n].checked[l]&&(s.checked=!0);const m=document.createElement("div");m.id="taskPriority",o.appendChild(m);const u=document.createElement("select");m.appendChild(u);const v=document.createElement("option");v.value="0",v.textContent="Priority",u.appendChild(v);const y=document.createElement("option");y.value="1",y.textContent="Low",u.appendChild(y);const C=document.createElement("option");C.value="2",C.textContent="Medium",u.appendChild(C);const h=document.createElement("option");h.value="3",h.textContent="High",u.appendChild(h),u.addEventListener("input",(e=>{"0"===e.target.value?o.style.borderLeft="0.6vw solid transparent":"1"===e.target.value?o.style.borderLeft="0.6vw solid #f2ee00":"2"===e.target.value?o.style.borderLeft="0.6vw solid orange":o.style.borderLeft="0.6vw solid #F05E16",d[n].priority[l]=e.target.value})),d[n].priority[l]&&("0"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid transparent",u.value=0):"1"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid #f2ee00",u.value=1):"2"===d[n].priority[l]?(o.style.borderLeft="0.6vw solid orange",u.value=2):(o.style.borderLeft="0.6vw solid #F05E16",u.value=3));const k=document.createElement("i");k.className="fa-solid fa-xmark",k.id="taskClosingIcon",o.appendChild(k),k.addEventListener("click",(()=>{delete d[t(i.className)].tasks[l],d[t(i.className)].priority[l]="0",d[t(i.className)].dueDate[l]="",d[t(i.className)].checked[l]="",o.remove()})),e++}}}))}))}(),function(){const e=document.querySelector("#projectTitle"),n=document.querySelector("#projectTasks"),a=document.querySelector("#addTaskButton"),o=document.querySelector("#addTaskForm"),l=document.querySelector("#addTaskInput"),c=document.querySelector("#cancelTaskInputButton");a.addEventListener("click",(()=>{a.style.display="none",o.style.display="flex"})),c.addEventListener("click",(()=>{o.style.display="none",a.style.display="flex",l.value=""}));let s=0;o.addEventListener("submit",(c=>{if(c.preventDefault(),""==l.value)return void alert("Task name can't be empty");o.style.display="none",a.style.display="flex",n.style.display="flex";const i=l.value;if(1==function(e){for(let t of d)for(let n of Object.values(t.tasks))if(n==e)return 1}(i))return alert("Such task already exists!"),void(l.value="");l.value="";const r=document.createElement("div");r.id="newTask",n.appendChild(r);const p=document.createElement("div");p.id="newTaskCheckboxContainer",r.appendChild(p);const m=document.createElement("input");m.type="checkbox",m.id="cb"+s,p.appendChild(m),m.addEventListener("click",(()=>{"yes"==d[t(e.className)].checked[i]?d[t(e.className)].checked[i]="no":d[t(e.className)].checked[i]="yes"}));const u=document.createElement("label");u.id="newTaskName",u.htmlFor="cb"+s,u.textContent=i,p.appendChild(u),s++;const v=t(e.className);d[v].tasks[i]=i;const y=document.createElement("div");y.id="taskPriority",r.appendChild(y);const C=document.createElement("select");y.appendChild(C),C.addEventListener("input",(n=>{"0"===n.target.value?r.style.borderLeft="0.6vw solid transparent":"1"===n.target.value?r.style.borderLeft="0.6vw solid #f2ee00":"2"===n.target.value?r.style.borderLeft="0.6vw solid orange":r.style.borderLeft="0.6vw solid #F05E16",d[t(e.className)].priority[i]=n.target.value})),d[t(e.className)].priority[i]&&("0"===d[t(e.className)].priority[i]?(r.style.borderLeft="0.6vw solid transparent",C.value=0):"1"===d[t(e.className)].priority[i]?(r.style.borderLeft="0.6vw solid #f2ee00",C.value=1):"2"===d[t(e.className)].priority[i]?(r.style.borderLeft="0.6vw solid orange",C.value=2):(r.style.borderLeft="0.6vw solid #F05E16",C.value=3));const h=document.createElement("option");h.value="0",h.textContent="Priority",C.appendChild(h);const k=document.createElement("option");k.value="1",k.textContent="Low",C.appendChild(k);const E=document.createElement("option");E.value="2",E.textContent="Medium",C.appendChild(E);const f=document.createElement("option");f.value="3",f.textContent="High",C.appendChild(f);const b=document.createElement("input");b.id="taskDueDate",b.type="date",r.appendChild(b),b.addEventListener("input",(()=>{d[e.className].dueDate[i]=b.value}));const L=document.createElement("i");L.className="fa-solid fa-xmark",L.id="taskClosingIcon",r.appendChild(L),L.addEventListener("click",(()=>{delete d[v].tasks[i],d[t(e.className)].priority[i]="0",d[t(e.className)].dueDate[i]="",d[t(e.className)].checked[i]="",r.remove()}))}))}()})();